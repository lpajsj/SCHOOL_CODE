C51 COMPILER V9.59.0.0   15A                                                               01/10/2024 21:42:40 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE 15A
OBJECT MODULE PLACED IN .\Objects\15a.obj
COMPILER INVOKED BY: D:\My Program File\keil\C51\BIN\C51.EXE ..\公共文件\15a.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\公共文
                    -件) DEBUG OBJECTEXTEND PRINT(.\Listings\15a.lst) TABS(2) OBJECT(.\Objects\15a.obj)

line level    source

   1          #include <reg51.h> 
   2          #include <intrins.h>
   3          #include "ange.h"
   4          #include "15a.h"
   5          uchar com=1;
   6          ucode duanma[]={0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0xff,0xbf}; ///原来
   7          //ucode duanma[]={0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90,0x88,0x83,0xC6,0xA1,0x86,0x8E,0xff,0xb
             -f};//0-f
   8          uchar led=0x01;
   9          uchar fj=0x00;bit jidianb=1,fengmingb=1;
  10          uchar shuma[]={6,6,6,6,6,6,6,6};
  11          void hc138(uchar x,uchar a)
  12          {
  13   1        P2&=0x1f;
  14   1        x<<=5;
  15   1        P2=P2&0x1f|x;
  16   1        P0=a;
  17   1        _nop_();
  18   1        _nop_();
  19   1        _nop_();
  20   1        P2&=0x1f;
  21   1        return;
  22   1      }
  23          void initial15()
  24          {
  25   1        hc138(5,0);
  26   1        hc138(7,0xff);
  27   1        hc138(4,0xff);
  28   1        return;
  29   1      }
  30          void shumaxianshi(uchar a[8])
  31          {
  32   1        uchar x=0x01,z;
  33   1        z=shuju;
  34   1        x<<=com-1;
  35   1        hc138(6,x);
  36   1        hc138(7,duanma[a[com-1]]);
  37   1        com++;
  38   1        if(com==9)
  39   1          com=1;
  40   1        shuju=z;
  41   1        return;
  42   1      }
  43          uchar dulianjian()
  44          {
  45   1        if(key0==0)
  46   1        {
  47   2          delay(10);
  48   2          if(key0==0)
  49   2          {
  50   3            while(key0==0);
  51   3            return 0;
  52   3          }
  53   2        }
C51 COMPILER V9.59.0.0   15A                                                               01/10/2024 21:42:40 PAGE 2   

  54   1      
  55   1      else  if(key1==0)
  56   1        {
  57   2          delay(10);
  58   2          if(key1==0)
  59   2          {
  60   3            while(key1==0);
  61   3            return 1;
  62   3          }
  63   2      
  64   2         }
  65   1      else  if(key2==0)
  66   1        {
  67   2          delay(10);
  68   2          if(key2==0)
  69   2          {
  70   3            while(key2==0);
  71   3            return 2;
  72   3          }
  73   2        }
  74   1      else if(key3==0)
  75   1        {
  76   2          delay(10);
  77   2          if(key3==0)
  78   2          {
  79   3            while(key3==0);
  80   3            return 3;
  81   3        }
  82   2      }
  83   1        return 0xff;
  84   1      }
  85          uchar anjian4x4()
  86          {
  87   1        uchar x;
  88   1        anjian=0x0f;
  89   1        if(key0==0)
  90   1        {
  91   2          delay(10);
  92   2          if(key0==0)
  93   2          {
  94   3            key7=1;
  95   3            if(key0==1)
  96   3              x=0;
  97   3            key7=0;
  98   3            key6=1;
  99   3            if(key0==1)
 100   3              x=1;
 101   3            key6=0;
 102   3            key5=1;
 103   3            if(key0==1)
 104   3              x=2;
 105   3            key5=0;
 106   3            key4=1;
 107   3            if(key0==1)
 108   3              x=3;
 109   3            key4=0;
 110   3            while(key0==0);
 111   3           return x;      
 112   3          }
 113   2        }
 114   1        ///////////////
 115   1        if(key1==0)
C51 COMPILER V9.59.0.0   15A                                                               01/10/2024 21:42:40 PAGE 3   

 116   1        {
 117   2          delay(10);
 118   2          if(key1==0)
 119   2          {
 120   3            key7=1;
 121   3            if(key1==1)
 122   3              x=4;
 123   3            key7=0;
 124   3            key6=1;
 125   3            if(key1==1)
 126   3              x=5;
 127   3            key6=0;
 128   3            key5=1;
 129   3            if(key1==1)
 130   3              x=6;
 131   3            key5=0;
 132   3            key4=1;
 133   3            if(key1==1)
 134   3              x=7;
 135   3            key4=0;
 136   3            while(key1==0);
 137   3           return x;      
 138   3          }
 139   2        }
 140   1        ///////////////
 141   1        if(key2==0)
 142   1        {
 143   2          delay(10);
 144   2          if(key2==0)
 145   2          {
 146   3            key7=1;
 147   3            if(key2==1)
 148   3              x=8;
 149   3            key7=0;
 150   3            key6=1;
 151   3            if(key2==1)
 152   3              x=9;
 153   3            key6=0;
 154   3            key5=1;
 155   3            if(key2==1)
 156   3              x=10;
 157   3            key5=0;
 158   3            key4=1;
 159   3            if(key2==1)
 160   3              x=11;
 161   3            key4=0;
 162   3            while(key2==0);
 163   3           return x;      
 164   3          }
 165   2        }
 166   1        ////////////////
 167   1        if(key3==0)
 168   1        {
 169   2          delay(10);
 170   2          if(key3==0)
 171   2          {
 172   3            key7=1;
 173   3            if(key3==1)
 174   3              x=12;
 175   3            key7=0;
 176   3            key6=1;
 177   3            if(key3==1)
C51 COMPILER V9.59.0.0   15A                                                               01/10/2024 21:42:40 PAGE 4   

 178   3              x=13;
 179   3            key6=0;
 180   3            key5=1;
 181   3            if(key3==1)
 182   3              x=14;
 183   3            key5=0;
 184   3            key4=1;
 185   3            if(key3==1)
 186   3              x=15;
 187   3            key4=0;
 188   3            while(key3==0);
 189   3           return x;      
 190   3          }
 191   2        }
 192   1        return 0xff;
 193   1        ///////////////
 194   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    428    ----
   CONSTANT SIZE    =     12    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     11       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      2    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
