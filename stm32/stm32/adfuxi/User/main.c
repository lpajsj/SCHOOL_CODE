#include "stm32f10x.h"
#include "bsp_led.h"
#include "ange_usart.h"
#include "stdio.h"
#include "ange_systick.h"
#include "ange_ad.h"
#include "stm32f10x.h"
#include "ange_dma.h"
#include "ange_da.h"
uint16_t DA1_data[128]={2047,2147,2247,2347,2446,2544,2641,2736,2830,2922,3011,3099,3184,3266,3345,
												3421,3494,3563,3629,3691,3749,3802,3852,3897,3938,3974,4005,4032,4054,4071,
												4084,4091,4093,4091,4084,4071,4054,4032,4005,3974,3938,3897,3852,3802,3749,
												3691,3629,3563,3494,3421,3345,3266,3184,3099,3011,2922,2830,2736,2641,2544,
												2446,2347,2247,2147,2047,1946,1846,1746,1647,1549,1452,1357,1263,1171,1082,
												994,909,827,748,672,599,530,464,402,344,291,241,196,155,119,88,61,39,22,9,
												2,0,2,9,22,39,61,88,119,155,196,241,291,344,402,464,530,599,672,748,827,909,
												994,1082,1171,1263,1357,1452,1549,1647,1746,1846,1946};
////
int main()
{
	float x;
	u32 i,t;
	LED_GPIO_Config();
	ange_DA_init();
	ange_DA_DMA_Config(DA1_data);
	ange_USART_init(115200);
	while(1)
	{
		for(i=10;i<=35000;i+=10)
		{
			x=562500/i;
			t=(u32)x;
	    ange_DA_TIM_Period=t;
			ange_DA_TIM_Config();
			SysTick_delayms(1);
		}
  }
}

